<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Los mejores destinos de Argentina. ¿Qué hacer en Argentina? ¿Cuál es el lugar más lindo de la Patagonia Argentina? Acá te lo cuento.">
    <title>Confirmación de pago</title>
    <link href="https://fonts.cdnfonts.com/css/gotham?styles=17581,17582,17583,17584,17585,17587,17586,17579,17588,17580,17589,17591,17592,17595,17590,17593,17594,17596" rel="stylesheet">
    <!-- Para saber cómo nombrar las fuentes acceder a https://www.cdnfonts.com/gotham.font -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous"> <!-- Formulario bootstrap -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="../../../../color-y-seteos-generales.css">
</head>

<!-- Google ANALYTICS (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DL53XPJ1JN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DL53XPJ1JN');
</script>

<body>

    <!-- FORMULARIO -->

    <div class="contenedor-formulario">

        <h2 class="titulo-formulario">Suscribite</h2>

        <form id="formulario" name="basededatosviajeros"> <!-- Este es el "name" del form del PUNTO 3-->

             <!-- El input siguiente, brinda la fecha, EL USUARIO NO LO VE-->
             <input hidden type="text" id="fecha" name="fecha"  value= "">

            <div class="formulario-grupo">
                <label for="name" class="formulario-label">Name</label>
                <input type="text" id="name" name="nombre" class="formulario-input" placeholder="Ingresá tu nombre" required>
            </div>

            <div class="formulario-grupo">
                <label for="email" class="formulario-label">Email</label>
                <input type="email" id="email" name="email" class="formulario-input" placeholder="Ingresá tu mail" required>
            </div>

            <div class="formulario-grupo">
                <label for="tel" class="formulario-label">Teléfono</label>
                <input type="tel" id="email" name="telefono" class="formulario-input" placeholder="Ingresá tu teléfono" required>
            </div>

            <div class="formulario-grupo">
                <button class="boton-enviar" type="submit">Enviar</button>
            </div>

            <div id="form_alerts">
                <!-- Acá va la respuesta del formulario.-->
            </div>

        </form>

    </div>

    <!-- FIN FORMULARIO -->

     <!-- Script formulario -->
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycby4U74aYEs4zGzFWVAcd__ScwvKz8FRsU2Nt6PHzMvWbTW-ry3m_0TxBmfS7FIF38JS0w/exec'
        const form = document.forms['basededatosviajeros'] //Punto 3
        
        form.addEventListener('submit', e => {
            e.preventDefault()
            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => $("#form_alerts").html("<div class='alert alert-success'>¡Listo, obtuviste un 10% de descuento. Hace un print de pantalla y mostralo en tu próxima visita.</div>"))
            .catch(error => $("#form_alerts").html("<div class='alert alert-danger'>El mensaje no fue enviado.</div>"))
        })
    </script>

    <script> //Genera la fecha del día y se la suma al formulario para que nos llegue en la base de datos
        date = new Date().toLocaleDateString();
        document.write(date);
        let fechaActual = document.getElementById("fecha");
        fechaActual.value = date;  
    </script>

    <!-- FIN script formulario -->

</body>
</html>